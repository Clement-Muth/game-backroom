{"version":3,"file":"./bundle.js","mappings":"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","sources":["webpack://game-backroom/./src/library/sw.ts","webpack://game-backroom/webpack/bootstrap","webpack://game-backroom/./src/library/components/containers/container.ts","webpack://game-backroom/./src/library/components/functions/ticker/index.ts","webpack://game-backroom/./src/library/application.ts","webpack://game-backroom/./src/library/components/assets/assets.ts","webpack://game-backroom/./src/library/components/assets/texture.ts","webpack://game-backroom/./src/library/components/drawables/text.ts","webpack://game-backroom/./src/library/components/drawables/tilingSprite.ts","webpack://game-backroom/./src/js/scenes/game/index.ts","webpack://game-backroom/./src/js/scenes/menu/index.ts","webpack://game-backroom/./src/js/index.ts"],"sourcesContent":["if (\"serviceWorker\" in navigator) {\n  navigator.serviceWorker\n    .register(\"/dist/sw.js\")\n    .then((registration) => {\n      process.env.NODE_ENV === \"development\" &&\n        console.log(\"Service Worker registered:\", registration);\n    })\n    .catch((error) => {\n      process.env.NODE_ENV === \"development\" &&\n        console.error(\"Service Worker registration failed:\", error);\n    });\n}\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","export default class Container {\n  public ctx: CanvasRenderingContext2D;\n  public x: number;\n  public y: number;\n  public children: any[];\n  public isStage: boolean;\n\n  constructor(ctx?: any, options?: any) {\n    this.ctx = ctx;\n    this.x = 0;\n    this.y = 0;\n    this.children = [];\n    this.isStage = options?.isStage;\n  }\n\n  public addChild<U extends any[]>(...children: U): U[0] {\n    for (const child of children) {\n      this.children.push(child);\n\n      if (this.isStage) this.render(this.ctx, []);\n    }\n\n    return this;\n  }\n\n  public removeChild(childToRemove: any) {\n    const index = this.children.indexOf(childToRemove);\n    if (index !== -1) this.children.splice(index, 1);\n\n    return this;\n  }\n\n  public render(ctx: any, parents = [] as Container[]) {\n    const context = this.ctx ?? ctx;\n    const allParents = parents.concat(this);\n\n    for (const child of this.children) child.render(context, allParents);\n  }\n}\n","type TickerCallback<T = any> = (deltaTime: number) => void;\n\nenum UPDATE_PRIORITY {\n  HIGH = 0,\n  NORMAL = 5,\n  LOW = 10,\n}\n\nexport default class Ticker {\n  autoStart: boolean;\n  deltaTime: number;\n  lastTime: number;\n  started: boolean;\n\n  private listeners: { fn: TickerCallback; context?: any; priority: number }[];\n\n  constructor(autoStart = true) {\n    this.autoStart = autoStart;\n    this.deltaTime = 0;\n    this.lastTime = 0;\n    this.started = false;\n    this.listeners = [];\n\n    if (autoStart) {\n      this.start();\n    }\n  }\n\n  add<T = any>(\n    fn: TickerCallback<T>,\n    context?: T,\n    priority: number = UPDATE_PRIORITY.NORMAL,\n  ): this {\n    this.listeners.push({ fn, context, priority });\n    this.listeners.sort((a, b) => a.priority - b.priority);\n    return this;\n  }\n\n  addOnce<T = any>(\n    fn: TickerCallback<T>,\n    context?: T,\n    priority: number = UPDATE_PRIORITY.NORMAL,\n  ): this {\n    const onceFn: TickerCallback<T> = (deltaTime) => {\n      fn(deltaTime);\n      this.remove(onceFn, context);\n    };\n    return this.add(onceFn, context, priority);\n  }\n\n  remove<T = any>(fn: TickerCallback<T>, context?: T): this {\n    this.listeners = this.listeners.filter(\n      (listener) => listener.fn !== fn || listener.context !== context,\n    );\n    return this;\n  }\n\n  start(): void {\n    if (!this.started) {\n      this.started = true;\n      this.lastTime = performance.now();\n      requestAnimationFrame(this.update.bind(this));\n    }\n  }\n\n  stop(): void {\n    this.started = false;\n  }\n\n  destroy(): void {\n    this.stop();\n    this.listeners = [];\n  }\n\n  get FPS(): number {\n    return 1000 / this.deltaTime;\n  }\n\n  private update(): void {\n    const currentTime = performance.now();\n    this.deltaTime = currentTime - this.lastTime;\n    this.lastTime = currentTime;\n\n    for (const listener of this.listeners) {\n      listener.fn(this.deltaTime);\n    }\n\n    if (this.started) {\n      requestAnimationFrame(this.update.bind(this));\n    }\n  }\n}\n","import type DataEngine from \"../../public/game-engine.json\";\nimport Container from \"./components/containers/container\";\nimport type View from \"./components/containers/view\";\nimport Ticker from \"./components/functions/ticker\";\n\nexport default class Application {\n  public readonly canvas: HTMLCanvasElement;\n  public ctx: CanvasRenderingContext2D;\n  public stage: Container;\n  public screen: { width: number; height: number };\n  public ticker: Ticker;\n\n  static dataEngine: typeof DataEngine;\n\n  private mouseX: number;\n  private mouseY: number;\n\n  constructor() {\n    const canvas = document.createElement(\"canvas\");\n\n    this.canvas = canvas;\n    this.ctx = canvas.getContext(\"2d\")!;\n    this.stage = new Container(this.ctx, { isStage: true });\n    this.screen = { width: window.innerWidth, height: window.innerHeight };\n    this.mouseX = 0;\n    this.mouseY = 0;\n    this.ticker = new Ticker();\n\n    canvas.addEventListener(\"mousemove\", (e) =>\n      this.onMouseMove(e, this.stage.children, []),\n    );\n    canvas.addEventListener(\"click\", (e) =>\n      this.onClick(e, this.stage.children, []),\n    );\n    canvas.id = \"canvas\";\n    document.body.appendChild(canvas);\n\n    this.loop();\n  }\n\n  public init = async ({\n    background,\n    resizeTo,\n  }: { background: string; resizeTo: any }) => {\n    window.addEventListener(\"resize\", this.onResize);\n    this.ctx.fillStyle = background;\n    this.canvas.width = resizeTo.innerWidth;\n    this.canvas.height = resizeTo.innerHeight;\n\n    Application.dataEngine = await (\n      await fetch(\"./public/game-engine.json\")\n    ).json();\n  };\n\n  private onResize = () => {\n    this.canvas.width = window.innerWidth;\n    this.canvas.height = window.innerHeight;\n  };\n\n  private loop = () => {\n    this.ctx.clearRect(0, 0, this.canvas.width, this.canvas.height);\n\n    for (const child of this.stage.children) child.render(this.ctx, []);\n\n    requestAnimationFrame(this.loop.bind(this));\n  };\n\n  private onMouseMove = (\n    event: MouseEvent,\n    children: View[],\n    parents = [] as Container[],\n  ): void => {\n    this.mouseX = event.clientX - this.canvas.getBoundingClientRect().left;\n    this.mouseY = event.clientY - this.canvas.getBoundingClientRect().top;\n\n    for (const child of children) {\n      if (child instanceof Container) {\n        this.onMouseMove(event, child.children, parents.concat(child));\n        return;\n      }\n      if (\n        child.interactive &&\n        child.isMouseOver(this.mouseX, this.mouseY, this.ctx, parents)\n      ) {\n        this.canvas.style.cursor = \"pointer\";\n        return;\n      }\n    }\n    this.canvas.style.cursor = \"default\";\n  };\n\n  private onClick = (\n    event: MouseEvent,\n    children: any[],\n    parents = [] as Container[],\n  ): void => {\n    for (const child of children) {\n      if (child instanceof Container) {\n        this.onClick(event, child.children, parents.concat(child));\n        return;\n      }\n      if (child.interactive === true && typeof child._onClick === \"function\") {\n        child._onClick(this.mouseX, this.mouseY, this.ctx, parents);\n      }\n    }\n  };\n}\n","export default class Assets {\n  private textures: Map<string, string> = new Map();\n  private loadingPromise: Promise<void> | null = null;\n\n  private constructor() {}\n\n  private static getInstance(): Assets {\n    if (!Assets.instance) {\n      Assets.instance = new Assets();\n    }\n    return Assets.instance;\n  }\n\n  public static load = async (\n    urls: { alias: string; src: string }[],\n  ): Promise<void> => {\n    const assets = this.getInstance();\n\n    if (assets.loadingPromise) await assets.loadingPromise;\n\n    assets.loadingPromise = new Promise((resolve) => {\n      for (const url of urls) {\n        fetch(url.src)\n          .then((response) => response.blob())\n          .then((blob) => {\n            const reader = new FileReader();\n            reader.readAsDataURL(blob);\n            reader.onloadend = () => {\n              const dataURL = reader.result;\n              assets.textures.set(url.alias, dataURL as string);\n              if (assets.textures.size === urls.length) resolve();\n            };\n          })\n          .catch((error) => console.error(\"Error loading texture:\", error));\n      }\n    });\n\n    await assets.loadingPromise;\n  };\n\n  public static getAsset(alias: string): string | undefined {\n    const assets = Assets.getInstance();\n\n    return assets.textures.get(alias);\n  }\n\n  private static instance: Assets;\n}\n","import Assets from \"./assets\";\n\n// biome-ignore lint/complexity/noStaticOnlyClass: <explanation>\nexport default class Texture {\n  static from = (alias: string): string => {\n    const src = Assets.getAsset(alias);\n\n    if (!src) throw new Error(`Texture not found ${alias}`);\n\n    return src;\n  };\n}\n","import type Container from \"../containers/container\";\nimport type View from \"../containers/view\";\n\nexport class TextStyle {\n  public align?: \"left\" | \"right\" | \"center\";\n  public fill?: string;\n  public fontFamily?: string;\n  public fontSize?: number;\n  public fontWeight?: \"normal\" | \"bold\" | \"semibold\";\n  public parent?: { x: number; y: number };\n\n  constructor() {\n    this.align = \"left\";\n    this.fill = \"white\";\n    this.fontFamily = \"Arial\";\n    this.fontSize = 24;\n    this.fontWeight = \"normal\";\n    this.parent = { x: 0, y: 0 };\n  }\n}\n\nexport default class Text implements View {\n  public x: number;\n  public y: number;\n  public text: string;\n  public interactive: boolean;\n  public onClick: () => void;\n  private style: TextStyle;\n\n  constructor({ text, style }: { text: string; style?: TextStyle }) {\n    this.x = 0;\n    this.y = 0;\n    this.text = text;\n    this.interactive = false;\n    this.style = { ...new TextStyle(), ...style };\n    this.onClick = () => null;\n  }\n\n  public render = (ctx: CanvasRenderingContext2D, parents: Container[]) => {\n    const absoluteX = parents.reduce((acc, parent) => acc + parent.x, 0);\n    const absoluteY = parents.reduce((acc, parent) => acc + parent.y, 0);\n\n    ctx.font = `${this.style.fontWeight} ${this.style.fontSize}px ${this.style.fontFamily}`;\n    ctx.fillStyle = this.style.fill!;\n    ctx.textAlign = this.style.align!;\n    ctx.fillText(this.text, absoluteX + this.x, absoluteY + this.y);\n  };\n\n  public isMouseOver = (\n    x: number,\n    y: number,\n    ctx: CanvasRenderingContext2D,\n    parents: Container[],\n  ) => {\n    const absoluteX = parents.reduce((acc, parent) => acc + parent.x, 0);\n    const absoluteY = parents.reduce((acc, parent) => acc + parent.y, 0);\n    const width = ctx.measureText(this.text).width;\n\n    return (\n      x >= absoluteX + this.x &&\n      x <= absoluteX + this.x + width &&\n      y >= absoluteY + this.y - this.style.fontSize! &&\n      y <= absoluteY + this.y\n    );\n  };\n\n  public _onClick = (\n    x: number,\n    y: number,\n    ctx: CanvasRenderingContext2D,\n    parents: Container[],\n  ) => {\n    if (this.isMouseOver(x, y, ctx, parents)) {\n      if (typeof this.onClick === \"function\") {\n        this.onClick();\n      }\n    }\n  };\n}\n","interface TilingSpriteProps {\n  texture: string;\n  width: number;\n  height: number;\n}\n\nexport default class TilingSprite {\n  public texture: string;\n  private width: number;\n  private height: number;\n  private image: HTMLImageElement;\n\n  constructor({ texture, width, height }: TilingSpriteProps) {\n    const image = new Image();\n    image.src = texture;\n\n    this.texture = texture;\n    this.width = width;\n    this.height = height;\n    this.image = image;\n  }\n\n  public update = (texture: string) => {\n    this.image.src = texture;\n  };\n\n  public render = (ctx: CanvasRenderingContext2D) => {\n    ctx.drawImage(this.image, 0, 0, this.width, this.height);\n  };\n}\n","import {\n  Application,\n  Container,\n  Text,\n  Texture,\n  TilingSprite,\n} from \"../../../library\";\nimport MenuScene from \"../menu\";\n\nenum Key {\n  Forward = \"KeyW\",\n  Backward = \"KeyS\",\n  Left = \"KeyA\",\n  Right = \"KeyD\",\n}\n\nenum Orientation {\n  North = \"top\",\n  South = \"bottom\",\n  East = \"right\",\n  West = \"left\",\n}\n\nexport default class GameScene {\n  public view: Container;\n  private currentPosition: number;\n  private currentOrientation: Orientation;\n  private screen: { x: number; y: number };\n  private currentState: TilingSprite;\n  private readonly exitButton: Text;\n\n  constructor(width: number, height: number, app: Application) {\n    this.view = new Container();\n    this.view.x = 180;\n    this.view.y = 240;\n    this.screen = { x: width, y: height };\n    this.currentPosition = 0;\n    this.currentOrientation = Orientation.North;\n\n    this.updateBackground(0);\n\n    for (let i = 0; i < Application.dataEngine.map.length; i++)\n      this.currentPosition += Application.dataEngine.map[i].length;\n\n    this.currentPosition -= 4;\n\n    this.exitButton = new Text({\n      text: \"Exit Backroom\",\n      style: {\n        align: \"left\",\n        fontSize: 32,\n        fill: \"brown\",\n        fontFamily: \"DotGothic16\",\n      },\n    });\n\n    this.exitButton.x = 500;\n    this.exitButton.y = 350;\n\n    this.exitButton.interactive = true;\n\n    this.exitButton.onClick = () =>\n      app.stage\n        .removeChild(this.view)\n        .addChild(new MenuScene(app.screen.width, app.screen.height, app).view);\n\n    document.addEventListener(\"keypress\", (e) => {\n      const directionMap = {\n        [Key.Forward]: {\n          [Orientation.North]: Orientation.North,\n          [Orientation.South]: Orientation.South,\n          [Orientation.East]: Orientation.East,\n          [Orientation.West]: Orientation.West,\n        },\n        [Key.Backward]: {\n          [Orientation.North]: Orientation.South,\n          [Orientation.South]: Orientation.North,\n          [Orientation.East]: Orientation.West,\n          [Orientation.West]: Orientation.East,\n        },\n        [Key.Left]: {\n          [Orientation.North]: Orientation.West,\n          [Orientation.West]: Orientation.South,\n          [Orientation.South]: Orientation.East,\n          [Orientation.East]: Orientation.North,\n        },\n        [Key.Right]: {\n          [Orientation.North]: Orientation.East,\n          [Orientation.East]: Orientation.South,\n          [Orientation.South]: Orientation.West,\n          [Orientation.West]: Orientation.North,\n        },\n      };\n\n      const newPosition = this.getNextPosition(e.code as Key);\n\n      if (newPosition !== undefined) {\n        this.currentOrientation =\n          directionMap[e.code as Key][this.currentOrientation];\n        this.updateBackground(newPosition);\n      }\n\n      if (\n        this.currentPosition === 4 &&\n        this.currentOrientation === Orientation.North\n      )\n        this.view.addChild(this.exitButton);\n    });\n  }\n\n  private updateBackground(id: number) {\n    const newTexture = Texture.from(`map${id}`);\n    const background = new TilingSprite({\n      texture: newTexture,\n      width: this.screen.x,\n      height: this.screen.y,\n    });\n\n    this.view.removeChild(this.currentState);\n    this.currentState = background;\n    this.view.addChild(background);\n  }\n\n  private getNextPosition(direction: Key): number | undefined {\n    const map = Application.dataEngine.map as {\n      top?: number;\n      left?: number;\n      right?: number;\n      bottom?: number;\n    }[][];\n    const width = map[0].length;\n    const height = map.length;\n    let x = this.currentPosition % width;\n    let y = Math.floor(this.currentPosition / width);\n    let cell = map[y][x];\n\n    switch (direction) {\n      case Key.Forward: {\n        const orientationChanges = {\n          [Orientation.East]: { x: 1, y: 0 },\n          [Orientation.West]: { x: -1, y: 0 },\n          [Orientation.North]: { x: 0, y: -1 },\n          [Orientation.South]: { x: 0, y: 1 },\n        };\n\n        x += orientationChanges[this.currentOrientation].x;\n        y += orientationChanges[this.currentOrientation].y;\n\n        if (\n          x < 0 ||\n          x >= width ||\n          y < 0 ||\n          y >= height ||\n          !Object.keys(map[y][x]).length\n        )\n          return undefined;\n\n        cell = map[y][x];\n        this.currentPosition = y * width + x;\n\n        return this.currentOrientation === Orientation.North\n          ? cell?.top\n          : this.currentOrientation === Orientation.South\n            ? cell?.bottom\n            : this.currentOrientation === Orientation.East\n              ? cell?.right\n              : cell?.left;\n      }\n\n      case Key.Backward: {\n        if (this.currentOrientation === Orientation.North) return cell?.bottom;\n        if (this.currentOrientation === Orientation.East) return cell?.left;\n        if (this.currentOrientation === Orientation.South) return cell?.top;\n\n        return cell?.right;\n      }\n      case Key.Left: {\n        if (this.currentOrientation === Orientation.North) return cell?.left;\n        if (this.currentOrientation === Orientation.East) return cell?.top;\n        if (this.currentOrientation === Orientation.South) return cell?.right;\n\n        return cell?.bottom;\n      }\n      case Key.Right: {\n        if (this.currentOrientation === Orientation.North) return cell?.right;\n        if (this.currentOrientation === Orientation.East) return cell?.bottom;\n        if (this.currentOrientation === Orientation.South) return cell?.left;\n\n        return cell?.top;\n      }\n    }\n  }\n}\n","import {\n  type Application,\n  Container,\n  Text,\n  Texture,\n  TilingSprite,\n} from \"../../../library\";\nimport GameScene from \"../game\";\n\nconst getButtons = (scene: MenuScene, app: Application) => {\n  const play = new Text({\n    text: \"PLAY TAPE  >\",\n    style: {\n      fontSize: 32,\n      fontFamily: \"DotGothic16\",\n    },\n  });\n\n  play.interactive = true;\n  play.onClick = () => {\n    app.stage.removeChild(scene.view);\n    app.stage.addChild(\n      new GameScene(app.screen.width, app.screen.height, app).view,\n    );\n  };\n\n  const settings = new Text({\n    text: \"SETTINGS  >\",\n    style: {\n      align: \"left\",\n      fontSize: 32,\n      fontFamily: \"DotGothic16\",\n    },\n  });\n\n  settings.y = 80;\n  settings.interactive = true;\n\n  const exit = new Text({\n    text: \"EXIT  >\",\n    style: {\n      align: \"left\",\n      fontSize: 32,\n      fontFamily: \"DotGothic16\",\n    },\n  });\n\n  exit.y = 160;\n  exit.interactive = true;\n\n  const credits = new Text({\n    text: \"CREDITS  >\",\n    style: {\n      align: \"left\",\n      fontSize: 32,\n      fill: \"brown\",\n      fontFamily: \"DotGothic16\",\n    },\n  });\n\n  credits.y = 240;\n  credits.interactive = true;\n\n  return { play, settings, exit, credits };\n};\n\nexport default class MenuScene {\n  public view: Container;\n\n  constructor(width: number, height: number, app: Application) {\n    this.view = new Container();\n    const menu = new Container();\n\n    const title = new Text({\n      text: \"THE BACKROOMS\",\n      style: { fontSize: 48, fontFamily: \"DotGothic16\" },\n    });\n    const { credits, exit, play, settings } = getButtons(this, app);\n\n    const texture = Texture.from(\"background\");\n\n    const background = new TilingSprite({\n      texture: texture,\n      width,\n      height,\n    });\n\n    this.view.x = 180;\n    this.view.y = 240;\n\n    menu.y = 100;\n\n    this.view.addChild(\n      background,\n      title,\n      menu.addChild(play, settings, exit, credits),\n    );\n  }\n}\n","import { Application, Assets } from \"../library\";\nimport \"../library/sw\";\nimport MenuScene from \"./scenes/menu\";\n\n(async () => {\n  const app = new Application();\n\n  await app.init({ background: \"transparent\", resizeTo: window });\n\n  await Assets.load([\n    Application.dataEngine.assets.menu.background,\n    ...[...Array(Application.dataEngine.assets.map.max)].map((_, i) => ({alias: `map${i}`, src: `${Application.dataEngine.assets.map.path}/map${i}.jpeg`})),\n  ]);\n\n  const menuScene = new MenuScene(app.screen.width, app.screen.height, app);\n\n  app.stage.addChild(menuScene.view);\n})();\n"],"names":["navigator","serviceWorker","register","then","registration","catch","error","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","undefined","exports","module","__webpack_modules__","Container","ctx","options","x","y","children","isStage","this","addChild","child","push","render","removeChild","childToRemove","index","indexOf","splice","parents","context","allParents","concat","UPDATE_PRIORITY","Ticker","autoStart","deltaTime","lastTime","started","listeners","start","add","fn","priority","sort","a","b","addOnce","onceFn","remove","filter","listener","performance","now","requestAnimationFrame","update","bind","stop","destroy","FPS","currentTime","Application","canvas","stage","screen","ticker","mouseX","mouseY","init","background","resizeTo","window","addEventListener","onResize","fillStyle","width","innerWidth","height","innerHeight","fetch","json","dataEngine","loop","clearRect","onMouseMove","event","clientX","getBoundingClientRect","left","clientY","top","interactive","isMouseOver","style","cursor","onClick","_onClick","document","createElement","getContext","e","id","body","appendChild","load","Assets","textures","Map","loadingPromise","getInstance","instance","getAsset","alias","get","urls","assets","Promise","resolve","url","src","response","blob","reader","FileReader","readAsDataURL","onloadend","dataURL","result","set","size","length","console","Texture","Error","from","TextStyle","align","fill","fontFamily","fontSize","fontWeight","parent","Text","text","absoluteX","reduce","acc","absoluteY","font","textAlign","fillText","measureText","Key","TilingSprite","texture","image","drawImage","Image","Orientation","GameScene","app","view","currentPosition","currentOrientation","currentState","exitButton","updateBackground","i","map","MenuScene","directionMap","newPosition","getNextPosition","code","newTexture","direction","Math","floor","cell","orientationChanges","Object","keys","bottom","right","menu","title","getButtons","scene","play","settings","exit","credits","menuScene","Array","max","_","path"],"sourceRoot":""}